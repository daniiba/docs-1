---
sidebarTitle: 'Quick Start'
title: 'Quick Start'
icon: rocket
---

You will learn how to install the npm package and how to use it in your project.

Note: Mellowtel is designed for Manifest V3 Chrome Extension only. For now, it is necessary to organize your code in a compiled way, by using  Webpack, Rollup, or other bundlers.

# Install npm package

To install the npm package, you can run the following command in your terminal:

```npm
npm install mellowtel
```

# Set up your Manifest
For the time being, Mellowtel requires critical permissions to work properly.
If you haven't already requested these permissions at installation, an update will
disable your extension until users agree to the new permissions.
Therefore, it's not recommended to add Mellowtel to an existing extension which
doesn't have these permissions. An update is coming shortly to make it possible to add Mellowtel to an existing extension which doesn't have these permissions.

It's safe to continue if you've requested even one of these permissions at installation:

`permissions = ["tabs", "declarativeNetRequest"]`

or if you have set "host_permissions" to

`host_permissions = ["<all_urls>"]`.

To check, simply open your existing `manifest.json` file and look for the `permissions` and `host_permissions` key. If you can find even one the  permissions listed above, you're good to go.
Another way to check is by installing your extension and checking if the alert window pops up asking for permission to `Read and change all your data on all websites`.

Once you have checked that, you need to add/update the following permissions to your `manifest.json` file:

```json
{
  "permissions": [
    "storage",
    "tabs",
    "declarativeNetRequest"
  ],
  "host_permissions": [
    "<all_urls>"
  ]
}
```

# Set up your background script
In your `background.js` file, you need to import the `mellowtel` package.

```javascript
import Mellowtel from "mellowtel";
```

You can then use `Mellowtel(configuration_key, options?)` to create a new instance of the Mellowtel object. The Mellowtel object is your entrypoint to the rest of Mellowtel's SDK. Your `configuration_key` is required when calling this function, as it identifies your extension to Mellowtel. You can find your `configuration_key` in the dashboard.

```javascript
const mellowtel = new Mellowtel("<configuration_key>");
```

Initialize Mellowtel by calling the `initBackground` method. This method will initialize the Mellowtel object and set up the necessary listeners.

```javascript
await mellowtel.initBackground();
```

Only for the first time, you will need to show a disclaimer/message to the end-user. You can do so in a web page or in a popup (even at a later point). The methods
`getOptInStatus()`, `optIn()`, `optOut()` and `start()` are accessible from any part of your extension, so you can call them from a popup, a content script, or a background script.

To check if the user has already opted in, you can call the `getOptInStatus` method, which is a promise that resolves to a boolean value.

```javascript
const hasOptedIn = await mellowtel.getOptInStatus();
```

Once the user has read the disclaimer and agreed to join the network, call these methods:

```javascript
await mellowtel.optIn()
await mellowtel.start()
```

If the user decides to opt out, you can call the `optOut` method. Mellowtel won't activate for this user anymore until the user opts in again.

```javascript
await mellowtel.optOut()
```

# Set up your content script
You have to import the `mellowtel` package in your content script as well.

```javascript
import Mellowtel from "mellowtel";
```

Again, you can use `Mellowtel(configuration_key, options?)` to create a new instance of the Mellowtel object.

```javascript
const mellowtel = new Mellowtel("<configuration_key>");
```

Initialize Mellowtel by calling the `initContentScript()` method. This method will initialize the Mellowtel object and set up the necessary listeners.

```javascript
await mellowtel.initContentScript();
```

This content script should run in `all_frames` and `<all_urls>` at the `document_start`, so you need to add the following to your `manifest.json` file:

```json
{
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": ["content.js"],
      "run_at": "document_start",
      "all_frames": true
    }
  ]
}
```

If, for some reason, you can't have your content script running with these settings, just create a new content script that runs with these settings and import the `mellowtel` package in it.
